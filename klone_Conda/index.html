
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../klone_containers/">
      
      
        <link rel="next" href="../klone_Adding-a-User/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Conda - Roberts Lab Handbook</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#using-conda-on-klone" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Roberts Lab Handbook" class="md-header__button md-logo" aria-label="Roberts Lab Handbook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Roberts Lab Handbook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Conda
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/RobertsLab/resources/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Roberts Lab Handbook" class="md-nav__button md-logo" aria-label="Roberts Lab Handbook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Roberts Lab Handbook
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/RobertsLab/resources/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Lab Culture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Lab Culture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Onboarding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Onboarding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Code-of-Conduct/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code of Conduct
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Environment-and-Expectations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environment and Expectations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lab-Communication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab Communication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lab-Notebooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab Notebooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DEI-Resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DEI Resources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../External-Communication-and-Funding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    External Communication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lab-Safety/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab Safety
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Undergraduate-contract/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Undergraduate Contract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../How-to-Grad-School-Slides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Grad School (Outreach Slides)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Computing and Code
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Computing and Code
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Computing-Best-Practices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Best Practices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Agentic-Coding-Tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agentic Coding Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code_Snippets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Snippets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Computing-Hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computing Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lab-Software/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab Software
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" checked>
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Klone Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Klone Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../klone_quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../klone_containers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Containers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Conda
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Conda
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Storage Considerations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fresh-conda-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Fresh Conda Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fresh Conda Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-download-miniforge-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Download Miniforge (Recommended)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-install-to-group-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Install to Group Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-configure-your-shell" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Configure Your Shell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#moving-existing-conda-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Moving Existing Conda Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Moving Existing Conda Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-check-current-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Check Current Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-create-new-installation-location" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Create New Installation Location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-move-the-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Move the Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-update-shell-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Update Shell Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-verify-the-move" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Verify the Move
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-conda-environment-location" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Conda Environment Location
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring Conda Environment Location">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-set-default-environment-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Method 1: Set Default Environment Directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-2-always-specify-environment-location" class="md-nav__link">
    <span class="md-ellipsis">
      Method 2: Always Specify Environment Location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-management" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#space-management" class="md-nav__link">
    <span class="md-ellipsis">
      Space Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup-and-sharing" class="md-nav__link">
    <span class="md-ellipsis">
      Backup and Sharing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-slurm-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Integration with SLURM Jobs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-not-found" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Not Found
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permission-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Permission Issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-still-full" class="md-nav__link">
    <span class="md-ellipsis">
      Storage Still Full
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      See Also
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../klone_Adding-a-User/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    New User
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../klone_Logging-In/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logging in
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../klone_Node-Types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Node Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../klone_Data-Storage-and-System-Organization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Storage and System Organization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../klone_File-Transfers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Transfers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../klone_Installing-Programs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installing Programs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../klone_Running-a-Job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running a job
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../klone_RStudio-Server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RStudio Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../klone_VS-Code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VS Code
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Raven Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            Raven Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../raven_Conda/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conda
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../raven_RStudio-Server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RStudio Server
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Databases and Catalogs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Databases and Catalogs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lab-Inventory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab Inventory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pubathon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pubathon
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Digital-Media/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Digital Media
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Experiment-Database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Experiment Database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Genomic-Resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Genomic Resources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../music/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spotify Playlists
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Protocols
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Protocols
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Purchasing-and-Reimbursement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Purchasing and Reimbursement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Data-Management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data-Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Lab Protocols
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Lab Protocols
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocols/protocol-bullet_blender/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bullet Blender
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocols/protocol-qPCR/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    qPCR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocols/resazurin-assay/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Resazurin Assay
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocols/protocol-reverse_transcription/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reverse Transcription
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chemical-Standard-Operating-Protocols/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chemical SOPs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Alarm-Information/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Alarm Information
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Bioinformatic Workflows
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Bioinformatic Workflows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bio_Basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bio-Annotation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Annotation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bio_DNA-methylation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DNA Methylation Analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bio-Gene-expression/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gene Expression
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bio_Transcriptome-assembly/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transcriptome Assembly
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Storage Considerations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fresh-conda-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Fresh Conda Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fresh Conda Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-download-miniforge-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Download Miniforge (Recommended)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-install-to-group-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Install to Group Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-configure-your-shell" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Configure Your Shell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#moving-existing-conda-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Moving Existing Conda Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Moving Existing Conda Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-check-current-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Check Current Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-create-new-installation-location" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Create New Installation Location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-move-the-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Move the Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-update-shell-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Update Shell Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-verify-the-move" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Verify the Move
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-conda-environment-location" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Conda Environment Location
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring Conda Environment Location">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-set-default-environment-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Method 1: Set Default Environment Directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-2-always-specify-environment-location" class="md-nav__link">
    <span class="md-ellipsis">
      Method 2: Always Specify Environment Location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-management" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#space-management" class="md-nav__link">
    <span class="md-ellipsis">
      Space Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup-and-sharing" class="md-nav__link">
    <span class="md-ellipsis">
      Backup and Sharing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-slurm-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Integration with SLURM Jobs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-not-found" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Not Found
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permission-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Permission Issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-still-full" class="md-nav__link">
    <span class="md-ellipsis">
      Storage Still Full
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      See Also
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/RobertsLab/resources/blob/master/docs/klone_Conda.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="using-conda-on-klone">Using Conda on Klone</h1>
<h2 id="overview">Overview</h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>As a best practice, please use our <a href="klone_Container-Documentation.md">bioinformatics container(s)</a> for your Conda workflows instead of installing conda packages directly on Klone. Containers provide a consistent and reproducible environment, reducing dependency issues and simplifying software management.</p>
</div>
<p>Conda (including Miniforge, Miniconda, and Anaconda) is a popular package manager for Python and other languages. However, conda installations and environments can quickly consume significant disk space. This guide explains how to properly install and configure conda on Klone to avoid storage limitations.</p>
<h2 id="storage-considerations">Storage Considerations</h2>
<p>Klone has different storage locations with varying capacities:</p>
<ul>
<li><strong>Home directory</strong> (<code>/mmfs1/home/&lt;UW_NetID&gt;</code>): Only 10GB - <strong>NOT recommended for conda</strong></li>
<li><strong>Group storage</strong> (<code>/mmfs1/gscratch/srlab/&lt;UW_NetID&gt;</code>): 1.024TB shared - <strong>Recommended for conda</strong></li>
<li><strong>Temporary storage</strong> (<code>/gscratch/scrubbed/&lt;UW_NetID&gt;</code>): 200TB but files deleted after 30 days</li>
</ul>
<p><strong>Important</strong>: Always install conda in group storage (<code>/mmfs1/gscratch/srlab/&lt;UW_NetID&gt;</code>) to avoid hitting the 10GB home directory limit.</p>
<h2 id="fresh-conda-installation">Fresh Conda Installation</h2>
<h3 id="step-1-download-miniforge-recommended">Step 1: Download Miniforge (Recommended)</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Navigate to your group storage directory</span>
<span class="nb">cd</span><span class="w"> </span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>

<span class="c1"># Download Miniforge (recommended over Anaconda for smaller size)</span>
wget<span class="w"> </span>https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-Linux-x86_64.sh
</code></pre></div>
<h3 id="step-2-install-to-group-storage">Step 2: Install to Group Storage</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Run the installer</span>
bash<span class="w"> </span>Miniforge3-Linux-x86_64.sh

<span class="c1"># When prompted for installation location, specify:</span>
<span class="c1"># /mmfs1/gscratch/srlab/${USER}/miniforge3</span>

<span class="c1"># Answer &quot;yes&quot; when asked to initialize conda</span>
</code></pre></div>
<h3 id="step-3-configure-your-shell">Step 3: Configure Your Shell</h3>
<p>Add the following to your <code>~/.bashrc</code> file:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Initialize conda from group storage location</span>
<span class="nb">eval</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/miniforge3/bin/conda<span class="w"> </span>shell.bash<span class="w"> </span>hook<span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div>
<p>Then reload your shell:</p>
<div class="highlight"><pre><span></span><code><span class="nb">source</span><span class="w"> </span>~/.bashrc
</code></pre></div>
<h2 id="moving-existing-conda-installation">Moving Existing Conda Installation</h2>
<p>If you already have conda installed in your home directory and are running out of space:</p>
<h3 id="step-1-check-current-installation">Step 1: Check Current Installation</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Check where conda is currently installed</span>
which<span class="w"> </span>conda
conda<span class="w"> </span>info<span class="w"> </span>--base

<span class="c1"># Check current storage usage</span>
hyakstorage
</code></pre></div>
<h3 id="step-2-create-new-installation-location">Step 2: Create New Installation Location</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create directory in group storage</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>
</code></pre></div>
<h3 id="step-3-move-the-installation">Step 3: Move the Installation</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Stop any running conda processes</span>
conda<span class="w"> </span>deactivate

<span class="c1"># Move the entire conda installation</span>
mv<span class="w"> </span>/mmfs1/home/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/miniforge3<span class="w"> </span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/

<span class="c1"># Or if you have anaconda3:</span>
<span class="c1"># mv /mmfs1/home/${USER}/anaconda3 /mmfs1/gscratch/srlab/${USER}/</span>
</code></pre></div>
<h3 id="step-4-update-shell-configuration">Step 4: Update Shell Configuration</h3>
<p>Edit your <code>~/.bashrc</code> file to remove the old conda initialization and add the new one:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Remove or comment out old lines like:</span>
<span class="c1"># eval &quot;$(/mmfs1/home/${USER}/miniforge3/bin/conda shell.bash hook)&quot;</span>

<span class="c1"># Add new initialization:</span>
<span class="nb">eval</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/miniforge3/bin/conda<span class="w"> </span>shell.bash<span class="w"> </span>hook<span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div>
<p>Reload your shell:</p>
<div class="highlight"><pre><span></span><code><span class="nb">source</span><span class="w"> </span>~/.bashrc
</code></pre></div>
<h3 id="step-5-verify-the-move">Step 5: Verify the Move</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Check new location</span>
which<span class="w"> </span>conda
conda<span class="w"> </span>info<span class="w"> </span>--base

<span class="c1"># Check that environments are accessible</span>
conda<span class="w"> </span>env<span class="w"> </span>list

<span class="c1"># Verify storage usage improvement</span>
hyakstorage
</code></pre></div>
<h2 id="configuring-conda-environment-location">Configuring Conda Environment Location</h2>
<p>To ensure all conda environments are created in group storage:</p>
<h3 id="method-1-set-default-environment-directory">Method 1: Set Default Environment Directory</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create conda configuration directory</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>~/.conda

<span class="c1"># Create/edit conda configuration file</span>
cat<span class="w"> </span>&gt;<span class="w"> </span>~/.conda/condarc<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
<span class="s">envs_dirs:</span>
<span class="s">  - /mmfs1/gscratch/srlab/${USER}/miniforge3/envs</span>
<span class="s">  - /mmfs1/gscratch/srlab/${USER}/conda_envs</span>
<span class="s">pkgs_dirs:</span>
<span class="s">  - /mmfs1/gscratch/srlab/${USER}/miniforge3/pkgs</span>
<span class="s">  - /mmfs1/gscratch/srlab/${USER}/conda_pkgs</span>
<span class="s">EOF</span>
</code></pre></div>
<h3 id="method-2-always-specify-environment-location">Method 2: Always Specify Environment Location</h3>
<p>When creating environments, explicitly specify the location:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Create environment in group storage</span>
conda<span class="w"> </span>create<span class="w"> </span>--prefix<span class="w"> </span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/conda_envs/myenv_name<span class="w"> </span>package_name

<span class="c1"># Activate environment</span>
conda<span class="w"> </span>activate<span class="w"> </span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/conda_envs/myenv_name
</code></pre></div>
<h2 id="best-practices">Best Practices</h2>
<h3 id="environment-management">Environment Management</h3>
<ul>
<li><strong>Use descriptive names</strong>: Name environments after projects or specific purposes</li>
<li><strong>Create project-specific environments</strong>: Avoid conflicts by keeping environments separate</li>
<li><strong>Regular cleanup</strong>: Remove unused environments to save space</li>
<li><strong>Document dependencies</strong>: Keep track of package requirements for reproducibility</li>
</ul>
<h3 id="space-management">Space Management</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Check conda disk usage</span>
du<span class="w"> </span>-sh<span class="w"> </span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/miniforge3

<span class="c1"># Clean conda cache periodically</span>
conda<span class="w"> </span>clean<span class="w"> </span>--all

<span class="c1"># List environments and their sizes</span>
conda<span class="w"> </span>env<span class="w"> </span>list
du<span class="w"> </span>-sh<span class="w"> </span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/miniforge3/envs/*
</code></pre></div>
<h3 id="backup-and-sharing">Backup and Sharing</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Export environment for sharing/backup</span>
conda<span class="w"> </span>env<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--name<span class="w"> </span>myenv<span class="w"> </span>&gt;<span class="w"> </span>environment.yml

<span class="c1"># Recreate environment from file</span>
conda<span class="w"> </span>env<span class="w"> </span>create<span class="w"> </span>--file<span class="w"> </span>environment.yml<span class="w"> </span>--prefix<span class="w"> </span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/conda_envs/myenv_restored
</code></pre></div>
<h2 id="integration-with-slurm-jobs">Integration with SLURM Jobs</h2>
<p>When using conda environments in SLURM jobs, ensure you activate the environment correctly:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1">#SBATCH --job-name=my_conda_job</span>
<span class="c1">#SBATCH --partition=compute</span>
<span class="c1">#SBATCH --nodes=1</span>
<span class="c1">#SBATCH --time=1:00:00</span>

<span class="c1"># Initialize conda</span>
<span class="nb">eval</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/miniforge3/bin/conda<span class="w"> </span>shell.bash<span class="w"> </span>hook<span class="k">)</span><span class="s2">&quot;</span>

<span class="c1"># Activate your environment</span>
conda<span class="w"> </span>activate<span class="w"> </span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/conda_envs/myenv_name

<span class="c1"># Run your analysis</span>
python<span class="w"> </span>my_script.py
</code></pre></div>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="environment-not-found">Environment Not Found</h3>
<p>If conda can't find your environments after moving:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Check conda configuration</span>
conda<span class="w"> </span>config<span class="w"> </span>--show<span class="w"> </span>envs_dirs

<span class="c1"># List all environments with full paths</span>
conda<span class="w"> </span>env<span class="w"> </span>list

<span class="c1"># Manually specify environment path</span>
conda<span class="w"> </span>activate<span class="w"> </span>/full/path/to/environment
</code></pre></div>
<h3 id="permission-issues">Permission Issues</h3>
<p>If you encounter permission errors:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Check directory permissions</span>
ls<span class="w"> </span>-la<span class="w"> </span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/

<span class="c1"># Fix permissions if needed</span>
chmod<span class="w"> </span>-R<span class="w"> </span>u+rwX<span class="w"> </span>/mmfs1/gscratch/srlab/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/miniforge3
</code></pre></div>
<h3 id="storage-still-full">Storage Still Full</h3>
<p>If home directory is still full after moving conda:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Check what&#39;s using space</span>
du<span class="w"> </span>-sh<span class="w"> </span>/mmfs1/home/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/*
du<span class="w"> </span>-sh<span class="w"> </span>/mmfs1/home/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>/.*

<span class="c1"># Common culprits to move to group storage:</span>
<span class="c1"># - .nextflow directory</span>
<span class="c1"># - .sra cache</span>
<span class="c1"># - Large data files</span>
<span class="c1"># - Git repositories</span>
</code></pre></div>
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="../klone_Data-Storage-and-System-Organization/">Klone Data Storage and System Organization</a></li>
<li><a href="../klone_Installing-Programs/">Klone Installing Programs</a></li>
<li><a href="../raven_Conda/">Raven Conda Usage</a> (for comparison)</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit", "content.code.copy"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>